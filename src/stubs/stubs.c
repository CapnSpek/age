/*
 * stubs.c 
 * 
 * Licensed to the Apache Software Foundation (ASF) under one
 * or more contributor license agreements.  See the NOTICE file
 * distributed with this work for additional information
 * regarding copyright ownership.  The ASF licenses this file
 * to you under the Apache License, Version 2.0 (the
 * "License"); you may not use this file except in compliance
 * with the License.  You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 * KIND, either express or implied.  See the License for the
 * specific language governing permissions and limitations
 * under the License.
 *
 * IDENTIFICATION
 *	  src/stubs/stubs.c
 */

#include "graph_protocol_stddef.h"
#include "stubs/stubs.h"

static uint8 stubs_success_with_empty[] = {0x00, 0x03, 0xb1, 0x70, 0xa0, 0x00, 0x00};


static uint8 stubs_bookmark_success[] = {0x00, 0x2d, 0xb1, 0x70,
                                         0xa1, 0x88, 0x62, 0x6f, 0x6f, 0x6b, 0x6d, 0x61, 0x72, 0x6b, 0xd0, 0x1f, 0x46,
                                         0x42, 0x3a, 0x6b, 0x63, 0x77, 0x51, 0x41, 0x41, 0x41, 0x41, 0x41, 0x41, 0x41,
                                         0x41,
                                         0x41,
                                         0x41, 0x41,
                                         0x41, 0x41, 0x41, 0x41, 0x41, 0x41, 0x41, 0x41, 0x41, 0x41, 0x53, 0x57, 0x51,
                                         0x00,
                                         0x00};

static uint8 stubs_commit_success[] = {0x00, 0x0E, 0xb1, 0x70,
                                       0xa1,
                                       0x88, 0x62, 0x6f, 0x6f, 0x6b, 0x6d, 0x61, 0x72, 0x6b,
                                       0x81, 0x62,
                                       0x00, 0x00};

static uint8 stubs_show_databases_success[] = {
        0x00, 0x03, 0xb1, 0x70, 0xa0, 0x00, 0x00,

        0x00, 0x6d, 0xb1, 0x70, 0xa3, 0x87, 0x74,
        0x5f, 0x66, 0x69, 0x72, 0x73, 0x74, 0xc9, 0x04, 0x2d, 0x86, 0x66, 0x69, 0x65, 0x6c,
        0x64, 0x73, 0x9a, 0x84, 0x6e, 0x61, 0x6d, 0x65, 0x87, 0x61, 0x6c, 0x69, 0x61, 0x73,
        0x65, 0x73, 0x86, 0x61, 0x63, 0x63, 0x65, 0x73, 0x73, 0x87, 0x61, 0x64, 0x64, 0x72,
        0x65, 0x73, 0x73, 0x84, 0x72, 0x6f, 0x6c, 0x65, 0x8f, 0x72, 0x65, 0x71, 0x75, 0x65,
        0x73, 0x74, 0x65, 0x64, 0x53, 0x74, 0x61, 0x74, 0x75, 0x73, 0x8d, 0x63, 0x75, 0x72,
        0x72, 0x65, 0x6e, 0x74, 0x53, 0x74, 0x61, 0x74, 0x75, 0x73, 0x85, 0x65, 0x72, 0x72,
        0x6f, 0x72, 0x87, 0x64, 0x65, 0x66, 0x61, 0x75, 0x6c, 0x74, 0x84, 0x68, 0x6f, 0x6d,
        0x65, 0x83, 0x71, 0x69, 0x64, 0x00,

        0x00, 0x00,

        0x00, 0x40, 0xb1, 0x71, 0x9a, 0x85,
        0x6e, 0x65, 0x6f, 0x34, 0x6a, 0x90, 0x8a, 0x72, 0x65, 0x61, 0x64, 0x2d, 0x77, 0x72,
        0x69, 0x74, 0x65, 0x8e, 0x6c, 0x6f, 0x63, 0x61, 0x6c, 0x68, 0x6f, 0x73, 0x74, 0x3a,
        0x37, 0x36, 0x38, 0x31, 0x8a, 0x73, 0x74, 0x61, 0x6e, 0x64, 0x61, 0x6c, 0x6f, 0x6e,
        0x65, 0x86, 0x6f, 0x6e, 0x6c, 0x69, 0x6e, 0x65, 0x86, 0x6f, 0x6e, 0x6c, 0x69, 0x6e,
        0x65, 0x80, 0xc3, 0xc3, 0x00, 0x00,

        0x00, 0x41, 0xb1, 0x71, 0x9a, 0x86, 0x73, 0x79,
        0x73, 0x74, 0x65, 0x6d, 0x90, 0x8a, 0x72, 0x65, 0x61, 0x64, 0x2d, 0x77, 0x72, 0x69,
        0x74, 0x65, 0x8e, 0x6c, 0x6f, 0x63, 0x61, 0x6c, 0x68, 0x6f, 0x73, 0x74, 0x3a, 0x37,
        0x36, 0x38, 0x31, 0x8a, 0x73, 0x74, 0x61, 0x6e, 0x64, 0x61, 0x6c, 0x6f, 0x6e, 0x65,
        0x86, 0x6f, 0x6e, 0x6c, 0x69, 0x6e, 0x65, 0x86, 0x6f, 0x6e, 0x6c, 0x69, 0x6e, 0x65,
        0x80, 0xc2, 0xc2, 0x00, 0x00,

        0x00, 0x1c, 0xb1, 0x70, 0xa3, 0x84, 0x74, 0x79, 0x70,
        0x65, 0x81, 0x73, 0x86, 0x74, 0x5f, 0x6c, 0x61, 0x73, 0x74, 0x49, 0x82, 0x64, 0x62,
        0x86, 0x73, 0x79, 0x73, 0x74, 0x65, 0x6d, 0x00, 0x00};

static uint8 stubs_CALL_dbms_components_success[] = {0x00, 0x2f, 0xb1, 0x70, 0xa3, 0x87, 0x74, 0x5f, 0x66, 0x69,
                                                     0x72, 0x73, 0x74, 0x02, 0x86, 0x66, 0x69, 0x65, 0x6c, 0x64, 0x73,
                                                     0x93, 0x84, 0x6e, 0x61, 0x6d, 0x65,
                                                     0x88, 0x76, 0x65, 0x72, 0x73, 0x69, 0x6f, 0x6e, 0x73, 0x87, 0x65,
                                                     0x64, 0x69, 0x74, 0x69, 0x6f, 0x6e,
                                                     0x83, 0x71, 0x69, 0x64, 0x00, 0x00, 0x00, 0x00, 0x22, 0xb1, 0x71,
                                                     0x93, 0x8c, 0x4e, 0x65, 0x6f, 0x34,
                                                     0x6a, 0x20, 0x4b, 0x65, 0x72, 0x6e, 0x65, 0x6c, 0x91, 0x86, 0x34,
                                                     0x2e, 0x34, 0x2e, 0x31, 0x35, 0x89,
                                                     0x63, 0x6f, 0x6d, 0x6d, 0x75, 0x6e, 0x69, 0x74, 0x79, 0x00, 0x00,
                                                     0x00, 0x1c, 0xb1, 0x70, 0xa3, 0x84,
                                                     0x74, 0x79, 0x70, 0x65, 0x81, 0x73, 0x86, 0x74, 0x5f, 0x6c, 0x61,
                                                     0x73, 0x74, 0x00, 0x82, 0x64, 0x62,
                                                     0x86, 0x73, 0x79, 0x73, 0x74, 0x65, 0x6d, 0x00, 0x00};

static uint8 stubs_CALL_dbms_showCurrentUser_success[] = {0x00, 0x2e, 0xb1, 0x70, 0xa3, 0x87, 0x74, 0x5f, 0x66, 0x69,
                                                          0x72, 0x73, 0x74, 0x02, 0x86, 0x66, 0x69, 0x65, 0x6c, 0x64,
                                                          0x73, 0x93, 0x88, 0x75, 0x73, 0x65, 0x72,
                                                          0x6e, 0x61, 0x6d, 0x65, 0x85, 0x72, 0x6f, 0x6c, 0x65, 0x73,
                                                          0x85, 0x66, 0x6c, 0x61, 0x67, 0x73, 0x83,
                                                          0x71, 0x69, 0x64, 0x00, 0x00, 0x00, 0x00, 0x0b, 0xb1, 0x71,
                                                          0x93, 0x85, 0x6e, 0x65, 0x6f, 0x34, 0x6a,
                                                          0xc0, 0x90, 0x00, 0x00, 0x00, 0x1c, 0xb1, 0x70, 0xa3, 0x84,
                                                          0x74, 0x79, 0x70, 0x65, 0x81, 0x73, 0x86,
                                                          0x74, 0x5f, 0x6c, 0x61, 0x73, 0x74, 0x00, 0x82, 0x64, 0x62,
                                                          0x86, 0x73, 0x79, 0x73, 0x74, 0x65, 0x6d,
                                                          0x00, 0x00};
static uint8 stubs_CALL_db_labels_yield_label_return_union_etc_success[] = {}; // TODO
static uint8 stubs_CALL_dbms_procedures_success[] = {}; // TODO

static const size_t STUB_SIZE = 6;

struct STUB STUBS[] = {
        {SUCCESS,              stubs_success_with_empty,                sizeof(stubs_success_with_empty) /
                                                                        sizeof(uint8)},
        {COMMIT,               stubs_commit_success,                    sizeof(stubs_commit_success) / sizeof(uint8)},
        {SHOW_DATABASES,       stubs_show_databases_success,            sizeof(stubs_show_databases_success) /
                                                                        sizeof(uint8)},
        {BOOKMARK,             stubs_bookmark_success,                  sizeof(stubs_bookmark_success) / sizeof(uint8)},
        {SHOW_CURRENT_USER,    stubs_CALL_dbms_showCurrentUser_success, sizeof(stubs_CALL_dbms_showCurrentUser_success) /
                                                                        sizeof(uint8)},
        {CALL_DBMS_COMPONENTS, stubs_CALL_dbms_components_success,      sizeof(stubs_CALL_dbms_components_success) /
                                                                        sizeof(uint8)}

};

struct STUB stub_finder(enum STUB_NAME name) {
    struct STUB ret;
    for (int i = 0; i < STUB_SIZE; ++i) {
        if (STUBS[i].name == name)
            ret = STUBS[i];
    }
    return ret;
}

